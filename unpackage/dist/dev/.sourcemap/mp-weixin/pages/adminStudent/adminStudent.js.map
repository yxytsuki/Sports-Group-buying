{"version":3,"file":"adminStudent.js","sources":["pages/adminStudent/adminStudent.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRtaW5TdHVkZW50L2FkbWluU3R1ZGVudC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 学员搜索 -->\r\n\t\t<uni-search-bar placeholder=\"搜索学员\" bgColor=\"#EEEEEE\" @input=\"handleInput\" @keypress=\"handleKeyPress\" />\r\n\t\t<view class=\"student-list\">\r\n\t\t\t<view class=\"student-card\" v-for=\"(student,index) in studentList\" :key=\"student.user_id\">\r\n\t\t\t\t<view class=\"card-content\">\r\n\t\t\t\t\t<image class=\"avatar\" :src=\"student.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"info\">\r\n\r\n\t\t\t\t\t\t<text class=\"nickName\">{{student.user_id}}</text>\r\n\t\t\t\t\t\t<text class=\"course\">{{student.user_name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"operate\">\r\n\t\t\t\t\t\t<view class=\"modify\" @click=\"modify(student.user_id)\">\r\n\t\t\t\t\t\t\t修改\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"look\" @click=\"look(student.user_id)\">\r\n\t\t\t\t\t\t\t查看\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"del-btn\" @click=\"handleDelete(student.user_id)\">\r\n\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"20\" color=\"#ff0000\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"add-btn\" @click=\"addStudent\">\r\n\t\t\t新增\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tdebounce\r\n\t} from 'lodash';\r\n\timport {\r\n\t\tadminStudent,\r\n\t\tadmindelStudent,\r\n\t\tadminGetStudent,\r\n\t\tadminGetStudentDetail\r\n\t} from '../../api/admin';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchKeyword: '',\r\n\t\t\t\tstudentList: [{\r\n\t\t\t\t\tid: '1',\r\n\t\t\t\t\tavator: 'https://img1.baidu.com/it/u=3082600848,2377791971&fm=253&fmt=auto&app=120&f=JPEG?w=500&h=500',\r\n\t\t\t\t\tnickName: '错雅鑫',\r\n\t\t\t\t\tphone: '13867675656',\r\n\t\t\t\t\tstudentId: '1001',\r\n\t\t\t\t\tenrollDate: '2023-01-15'\r\n\t\t\t\t}],\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync created() {\r\n\t\t\t// 创建防抖函数（500ms延迟）\r\n\t\t\tthis.debouncedInput = debounce(this.handleInput, 500);\r\n\t\t\tconst res = await adminGetStudent()\r\n\t\t\tconsole.log(res)\r\n\t\t\tthis.studentList = [...res]\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearTimeout(this.timer)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowStudentDetail(studentId) {\r\n\t\t\t\t// 调取接口获取详情\r\n\r\n\t\t\t},\r\n\t\t\tmodify(id) {\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t})\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/newStudent/newStudent?mode=modify&user_id=${id}`\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\r\n\t\t\t},\r\n\t\t\tlook(id) {\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t})\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/newStudent/newStudent?mode=look&user_id=${id}`\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\tasync handleDelete(id) {\r\n\t\t\t\t// 调取接口删除学员\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\tconst res = await admindelStudent({\r\n\t\t\t\t\tuser_id: id\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 输入框实时防抖处理\r\n\t\t\thandleInput(e) {\r\n\t\t\t\tthis.searchKeyword = e;\r\n\t\t\t},\r\n\t\t\t// 处理键盘事件\r\n\t\t\thandleKeyPress(e) {\r\n\t\t\t\t// 检查是否是回车键（keyCode 13 或 key 'Enter'）\r\n\t\t\t\tif (e.keyCode === 13 || e.key === 'Enter') {\r\n\t\t\t\t\tthis.doSearch();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 实际搜索方法\r\n\t\t\tasync doSearch() {\r\n\t\t\t\tconst res = await adminGetStudent({\r\n\t\t\t\t\tkeyword: this.searchKeyword\r\n\t\t\t\t})\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '搜索中...'\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.studentList = [...res]\r\n\t\t\t\t}, 500)\r\n\t\t\t\tconsole.log(this.searchKeyword)\r\n\t\t\t},\r\n\t\t\taddStudent() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t})\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/newStudent/newStudent?mode=add`\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style>\r\n\t@import url(\"adminStudent.css\");\r\n</style>","import MiniProgramPage from 'D:/code/project/Sports-Group-buying/pages/adminStudent/adminStudent.vue'\nwx.createPage(MiniProgramPage)"],"names":["debounce","adminGetStudent","uni","admindelStudent"],"mappings":";;;AA4CC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,eAAe;AAAA,MACf,aAAa,CAAC;AAAA,QACb,IAAI;AAAA,QACJ,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,OAAO;AAAA,QACP,WAAW;AAAA,QACX,YAAY;AAAA,MACb,CAAC;AAAA,IAGF;AAAA,EACA;AAAA,EAED,MAAM,UAAU;AAEf,SAAK,iBAAiBA,cAAQ,cAAA,SAAC,KAAK,aAAa,GAAG;AACpD,UAAM,MAAM,MAAMC,0BAAgB;AAClCC,kBAAAA,MAAA,MAAA,OAAA,6CAAY,GAAG;AACf,SAAK,cAAc,CAAC,GAAG,GAAG;AAAA,EAC1B;AAAA,EACD,WAAW;AACV,iBAAa,KAAK,KAAK;AAAA,EACvB;AAAA,EACD,SAAS;AAAA,IACR,kBAAkB,WAAW;AAAA,IAG5B;AAAA,IACD,OAAO,IAAI;AACVA,oBAAAA,gEAAY,EAAE;AACdA,oBAAAA,MAAI,UAAU;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,OACP;AACD,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,oDAAoD,EAAE;AAAA,SAC3D;AAAA,MACD,GAAE,GAAG;AAAA,IAEN;AAAA,IACD,KAAK,IAAI;AACRA,oBAAAA,gEAAY,EAAE;AACdA,oBAAAA,MAAI,UAAU;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,OACP;AACD,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,kDAAkD,EAAE;AAAA,SACzD;AAAA,MACD,GAAE,GAAG;AAAA,IACN;AAAA,IACD,MAAM,aAAa,IAAI;AAEtBA,oBAAAA,iEAAY,EAAE;AACF,YAAMC,0BAAgB;AAAA,QACjC,SAAS;AAAA,OACT;AAAA,IAED;AAAA;AAAA,IAED,YAAY,GAAG;AACd,WAAK,gBAAgB;AAAA,IACrB;AAAA;AAAA,IAED,eAAe,GAAG;AAEjB,UAAI,EAAE,YAAY,MAAM,EAAE,QAAQ,SAAS;AAC1C,aAAK,SAAQ;AAAA,MACd;AAAA,IACA;AAAA;AAAA,IAED,MAAM,WAAW;AAChB,YAAM,MAAM,MAAMF,0BAAgB;AAAA,QACjC,SAAS,KAAK;AAAA,OACd;AACDC,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,MACR,CAAC;AAED,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,YAAY;AAChB,aAAK,cAAc,CAAC,GAAG,GAAG;AAAA,MAC1B,GAAE,GAAG;AACNA,oBAAAA,MAAA,MAAA,OAAA,8CAAY,KAAK,aAAa;AAAA,IAC9B;AAAA,IACD,aAAa;AACZA,oBAAAA,MAAI,UAAU;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,OACP;AACD,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,SACL;AAAA,MACD,GAAE,GAAG;AAAA,IAEP;AAAA,EAGD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrJD,GAAG,WAAW,eAAe;"}