{"version":3,"file":"index.js","sources":["pages/order/index.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb3JkZXIvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"order-content\">\r\n\t\t<view class=\"order-tabs\">\r\n\t\t\t<view class=\"order-filterTabs\">\r\n\t\t\t\t<uni-segmented-control :current=\"current\" :values=\"filterTabs\" style-type=\"text\" activeColor=\"#4cd964\"\r\n\t\t\t\t\t@clickItem=\"onClickItem\"></uni-segmented-control>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"order-item-list\">\r\n\t\t\t<view class=\"order-item-item\" v-for=\"(item,index) in orderList\" :key=\"item.order_id\">\r\n\t\t\t\t<orderListItem :orderItem=\"item\"></orderListItem>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport orderListItem from '../../components/orderListItem/orderListItem.vue';\r\n\timport {\r\n\t\tgetFilterOrder\r\n\t} from '@/api/order.js'\r\n\timport {\r\n\t\tuseUserStore\r\n\t} from '../../store/user';\r\n\timport {\r\n\t\tuseAuth\r\n\t} from '@/utils/getUserInfo.js'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\torderListItem,\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.getOrderContent()\r\n\t\t\tconst {\r\n\t\t\t\tisLogin\r\n\t\t\t} = useAuth()\r\n\t\t\tif (!isLogin()) {\r\n\t\t\t\tconsole.log('未登录，已跳转')\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('已登录，继续执行业务逻辑')\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfilterTabs: ['全部', '待支付', '拼班中', '已完成'],\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\torderList: [],\r\n\t\t\t\tisFinited: false,\r\n\t\t\t\tuser_id: useUserStore().userInfo.user_id\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getOrderContent() {\r\n\t\t\t\tconst data = await getFilterOrder({\r\n\t\t\t\t\tuserId: this.user_id\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tthis.orderList = data.list\r\n\t\t\t\tconsole.log(this.orderList)\r\n\t\t\t},\r\n\t\t\tasync onClickItem(e) {\r\n\t\t\t\tif (this.current !== e.currentIndex) {\r\n\t\t\t\t\tthis.current = e.currentIndex;\r\n\t\t\t\t\tconsole.log(this.current)\r\n\t\t\t\t\tconst filterData = await getFilterOrder({\r\n\t\t\t\t\t\tuserId: this.user_id,\r\n\t\t\t\t\t\tcurrent: this.current\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tconsole.log(filterData)\r\n\t\t\t\t\tthis.orderList = [...filterData?.list] || []\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(./index.css);\r\n</style>","import MiniProgramPage from 'D:/code/project/Sports-Group-buying/pages/order/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAuth","uni","useUserStore","getFilterOrder"],"mappings":";;;;;AAiBC,sBAAsB,MAAW;AAUjC,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX;AAAA,EACA;AAAA,EACD,UAAU;AACT,SAAK,gBAAgB;AACrB,UAAM;AAAA,MACL;AAAA,IACC,IAAEA,0BAAQ;AACZ,QAAI,CAAC,QAAO,GAAI;AACfC,oBAAAA,MAAA,MAAA,OAAA,+BAAY,SAAS;AAAA,WACf;AACNA,oBAAAA,kDAAY,cAAc;AAAA,IAC3B;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,YAAY,CAAC,MAAM,OAAO,OAAO,KAAK;AAAA,MACtC,SAAS;AAAA,MACT,WAAW,CAAE;AAAA,MACb,WAAW;AAAA,MACX,SAASC,WAAAA,eAAe,SAAS;AAAA,IAClC;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,MAAM,kBAAkB;AACvB,YAAM,OAAO,MAAMC,yBAAe;AAAA,QACjC,QAAQ,KAAK;AAAA,OACb;AACDF,oBAAAA,MAAA,MAAA,OAAA,+BAAY,IAAI;AAChB,WAAK,YAAY,KAAK;AACtBA,oBAAAA,kDAAY,KAAK,SAAS;AAAA,IAC1B;AAAA,IACD,MAAM,YAAY,GAAG;AACpB,UAAI,KAAK,YAAY,EAAE,cAAc;AACpC,aAAK,UAAU,EAAE;AACjBA,sBAAAA,MAAY,MAAA,OAAA,+BAAA,KAAK,OAAO;AACxB,cAAM,aAAa,MAAME,yBAAe;AAAA,UACvC,QAAQ,KAAK;AAAA,UACb,SAAS,KAAK;AAAA,SACd;AAEDF,sBAAAA,MAAA,MAAA,OAAA,+BAAY,UAAU;AACtB,aAAK,YAAY,CAAC,GAAG,yCAAY,IAAI;AAAA,MAEtC;AAAA,IACA;AAAA,EAIF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7ED,GAAG,WAAW,eAAe;"}