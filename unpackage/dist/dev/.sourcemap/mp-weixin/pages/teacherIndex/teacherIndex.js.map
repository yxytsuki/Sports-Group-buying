{"version":3,"file":"teacherIndex.js","sources":["pages/teacherIndex/teacherIndex.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVhY2hlckluZGV4L3RlYWNoZXJJbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"teacher-content\">\r\n\t\t<view class=\"teacher-content-top\">\r\n\t\t\t<view class=\"teacher-top-center\">\r\n\t\t\t\t跃动星球教练中心\r\n\t\t\t</view>\r\n\t\t\t<view class=\"teacher-card-position\">\r\n\t\t\t\t<uni-icons type=\"location-filled\" size=\"30\"></uni-icons>\r\n\t\t\t\t<view class=\"teahcer-position-txt\">\r\n\t\t\t\t\t长沙\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"teacher-top-card\">\r\n\t\t\t\t<image src=\"/static/icon/ball.png\" class=\"teacher-card-img\"></image>\r\n\t\t\t\t<view class=\"teacher-card-user\">\r\n\t\t\t\t\t<view class=\"teacher-user-avator\">\r\n\t\t\t\t\t\t<image class=\"teacher-user-img\" :src=\"avator\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teacher-user-nickName\">\r\n\t\t\t\t\t\t{{nickName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"teacher-card-amount\">\r\n\t\t\t\t\t<view class=\"teacher-amount-txt\">\r\n\t\t\t\t\t\t<view class=\"teacher-txt-txt\">\r\n\t\t\t\t\t\t\t可用余额（元）\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 可见 -->\r\n\t\t\t\t\t\t<view v-if=\"isVisible\" class=\"teacher-amount-visible\" @click=\"handleVisible\">\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 不可见 -->\r\n\t\t\t\t\t\t<view v-if=\"!isVisible\" class=\"teacher-amount-isvisible\" @click=\"handleVisible\">\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"teacher-amount-amount\" v-if=\"isVisible\">\r\n\t\t\t\t\t\t{{amount}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teacher-amount-amount\" v-if=\"!isVisible\">\r\n\t\t\t\t\t\t*****\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"teacher-content-income\" @click=\"jumpTeacherIncome\">\r\n\t\t\t<view class=\"teacher-income-today\">\r\n\t\t\t\t<view class=\"teacher-today-top\">\r\n\t\t\t\t\t<view class=\"teacher-top-left\">\r\n\t\t\t\t\t\t<view class=\"teacher-today-txt\">\r\n\t\t\t\t\t\t\t今日收入\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"teacher-today-amount\">\r\n\t\t\t\t\t\t\t{{`${todayIncome}元`}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teacher-top-right\">\r\n\t\t\t\t\t\t<view class=\"teacher-today-txt\">\r\n\t\t\t\t\t\t\t今日订单\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"teacher-today-number\">\r\n\t\t\t\t\t\t\t{{`${todayOrder}笔`}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"teacher-today-bottom\">\r\n\t\t\t\t\t<view class=\"teacher-bottom-left\">\r\n\t\t\t\t\t\t<uni-icons class=\"teacher-left-icon\" type=\"wallet-filled\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t\t<view class=\"teacher-left-totalAmount\">\r\n\t\t\t\t\t\t\t{{`${totalIncome}元`}}\r\n\t\t\t\t\t\t\t<view class=\"teacher-left-totalIncome\">\r\n\t\t\t\t\t\t\t\t累计收入\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teacher-bottom-right\">\r\n\t\t\t\t\t\t<uni-icons class=\"teacher-left-icon\" type=\"wallet-filled\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t\t<view class=\"teacher-left-totalAmount\">\r\n\t\t\t\t\t\t\t{{`${amount}元`}}\r\n\t\t\t\t\t\t\t<view class=\"teacher-left-totalIncome\">\r\n\t\t\t\t\t\t\t\t可用余额\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"teacher-content-set\">\r\n\t\t\t<view class=\"teacher-set-student\" @click=\"handleStudentSet\">\r\n\t\t\t\t<view class=\"teacher-student-txt\">\r\n\t\t\t\t\t<view class=\"teacher-student-title\">\r\n\t\t\t\t\t\t学员管理\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teacher-student-manage\">\r\n\t\t\t\t\t\t查看与管理学员\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"teacher-student-icon\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"teacher-set-order\" @click=\"handleOrderSet\">\r\n\t\t\t\t<view class=\"teacher-order-txt\">\r\n\t\t\t\t\t<view class=\"teacher-order-title\">\r\n\t\t\t\t\t\t拼班管理\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teacher-order-manage\">\r\n\t\t\t\t\t\t查看与管理拼班\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"teacher-order-icon\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetTeacherIncome\r\n\t} from '@/api/teacher_index.js'\r\n\timport {\r\n\t\tuseUserStore\r\n\t} from '@/store/user.js'\r\n\timport amap from '../../js_sdk/amap/amap-wx.130'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisVisible: false,\r\n\t\t\t\tamount: useUserStore().userInfo.amount,\r\n\t\t\t\ttodayIncome: '',\r\n\t\t\t\ttodayOrder: 0,\r\n\t\t\t\ttotalIncome: '',\r\n\t\t\t\tnickName: useUserStore().userInfo.nickName,\r\n\t\t\t\tavator: useUserStore().userInfo.avatar,\r\n\t\t\t\ttimer: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// 获取教师版首页信息\r\n\t\t\tthis.getTeacher()\r\n\t\t\t// 获取地理位置\r\n\t\t\tthis.getLocation()\r\n\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearTimeout(this.timer)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleVisible() {\r\n\t\t\t\tthis.$data.isVisible = !this.$data.isVisible\r\n\t\t\t},\r\n\t\t\t// 获取地理位置\r\n\t\t\tgetLocation() {\r\n\t\t\t\tconst dom = new amap.AMapWX({\r\n\t\t\t\t\tkey: \"ae02e28d3e8ca8fd8cdec393417969a9\"\r\n\t\t\t\t})\r\n\t\t\t\tdom.getRegeo({\r\n\t\t\t\t\tsucess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"获取地理位置失败\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 查询教师版首页信息\r\n\t\t\tasync getTeacher() {\r\n\t\t\t\tconst data = await getTeacherIncome({\r\n\t\t\t\t\tteacher_id: useUserStore().userInfo.user_id\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log('教师收入信息', data)\r\n\t\t\t\tthis.amount = data?.balance\r\n\t\t\t\tthis.todayIncome = data?.today_income\r\n\t\t\t\tthis.todayOrder = data?.today_orders\r\n\t\t\t\tthis.totalIncome = data?.total_income\r\n\r\n\t\t\t},\r\n\t\t\tjumpTeacherIncome() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"跳转中...\",\r\n\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t\tduration: 500\r\n\t\t\t\t})\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/teacherIncome/teacherIncome'\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\thandleStudentSet() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"跳转中...\",\r\n\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t\tduration: 500\r\n\t\t\t\t})\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/studentSet/studentSet'\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\r\n\t\t\t},\r\n\t\t\thandleOrderSet() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"跳转中...\",\r\n\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t\tduration: 500\r\n\t\t\t\t})\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '/pages/myClass/myClass'\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(./teacherIndex.css);\r\n</style>","import MiniProgramPage from 'D:/code/project/Sports-Group-buying/pages/teacherIndex/teacherIndex.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","amap","uni","getTeacherIncome"],"mappings":";;;;;;AA6HC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,MACX,QAAQA,WAAAA,eAAe,SAAS;AAAA,MAChC,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,UAAUA,WAAAA,eAAe,SAAS;AAAA,MAClC,QAAQA,WAAAA,eAAe,SAAS;AAAA,MAChC,OAAO;AAAA,IACR;AAAA,EACA;AAAA,EACD,UAAU;AAET,SAAK,WAAW;AAEhB,SAAK,YAAY;AAAA,EAEjB;AAAA,EACD,WAAW;AACV,iBAAa,KAAK,KAAK;AAAA,EACvB;AAAA,EACD,SAAS;AAAA,IACR,gBAAgB;AACf,WAAK,MAAM,YAAY,CAAC,KAAK,MAAM;AAAA,IACnC;AAAA;AAAA,IAED,cAAc;AACb,YAAM,MAAM,IAAIC,uBAAI,KAAC,OAAO;AAAA,QAC3B,KAAK;AAAA,OACL;AACD,UAAI,SAAS;AAAA,QACZ,QAAQ,CAAC,QAAQ;AAChBC,wBAAAA,iEAAY,GAAG;AAAA,QACf;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,iEAAY,GAAG;AACfA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,WACN;AAAA,QACF;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAED,MAAM,aAAa;AAClB,YAAM,OAAO,MAAMC,mCAAiB;AAAA,QACnC,YAAYH,WAAAA,eAAe,SAAS;AAAA,OACpC;AACDE,oBAAAA,iEAAY,UAAU,IAAI;AAC1B,WAAK,SAAS,6BAAM;AACpB,WAAK,cAAc,6BAAM;AACzB,WAAK,aAAa,6BAAM;AACxB,WAAK,cAAc,6BAAM;AAAA,IAEzB;AAAA,IACD,oBAAoB;AACnBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,MAAM;AAAA,QACN,UAAU;AAAA,OACV;AACD,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,SACL;AAAA,MACD,GAAE,GAAG;AAAA,IACN;AAAA,IACD,mBAAmB;AAClBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,MAAM;AAAA,QACN,UAAU;AAAA,OACV;AACD,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,SACL;AAAA,MACD,GAAE,GAAG;AAAA,IAEN;AAAA,IACD,iBAAiB;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,MAAM;AAAA,QACN,UAAU;AAAA,OACV;AACD,WAAK,QAAQ,WAAW,MAAM;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,KAAK;AAAA,SACL;AAAA,MACD,GAAE,GAAG;AAAA,IACP;AAAA,EAED;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/ND,GAAG,WAAW,eAAe;"}