{"version":3,"file":"orderListItem.js","sources":["components/orderListItem/orderListItem.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovY29kZS9wcm9qZWN0L1Nwb3J0cy1Hcm91cC1idXlpbmcvY29tcG9uZW50cy9vcmRlckxpc3RJdGVtL29yZGVyTGlzdEl0ZW0udnVl"],"sourcesContent":["<template>\r\n\t<view class=\"order-item\">\r\n\t\t<view class=\"order-title\">\r\n\t\t\t<span class=\"order-title-txt\">{{orderItem?.title}}</span>\r\n\t\t\t<!-- 订单状态是相对于现在的时间 order-title-running -->\r\n\t\t\t<view :class=\"orderItem?.time?.weeks?.isRunning?'order-title-running':'order-title-status'\">\r\n\t\t\t\t{{orderItem?.time?.weeks?.isRunning?'拼班中':'已完成'}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"order-content\">\r\n\t\t\t<view class=\"order-content-msg\">\r\n\t\t\t\t<view class=\"order-msg-time\">\r\n\t\t\t\t\t{{`总周期${getWeeks}周 当前第${orderItem?.time?.weeks?.week}周`}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-content-number\">\r\n\t\t\t\t<view class=\"order-number-txt\">\r\n\t\t\t\t\t订单号\r\n\t\t\t\t</view>\r\n\t\t\t\t<span class=\"order-number\">{{orderItem?.orderNumber}}</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-content-number\">\r\n\t\t\t\t<view class=\"order-number-txt\">\r\n\t\t\t\t\t支付方式\r\n\t\t\t\t</view>\r\n\t\t\t\t<span class=\"order-number\">余额自动扣款</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-content-number\">\r\n\t\t\t\t<view class=\"order-number-txt\">\r\n\t\t\t\t\t订单实付金额\r\n\t\t\t\t</view>\r\n\t\t\t\t<span class=\"order-number\">{{`￥${orderItem?.amount}`}}</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-content-number\">\r\n\t\t\t\t<view class=\"order-number-txt\">\r\n\t\t\t\t\t订单创建时间\r\n\t\t\t\t</view>\r\n\t\t\t\t<span class=\"order-number\">{{`${orderItem?.creatTime}`}}</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-status-btn\" @click.stop=\"handleJump(orderItem?.orderId)\" v-if=\"getButtonTxt\">\r\n\t\t\t\t{{getButtonTxt}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"orderItem\",\r\n\t\tprops: {\r\n\t\t\torderItem: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\toverlap: 20,\r\n\t\t\t\tavatarList: [\r\n\t\t\t\t\t'/static/logo.png',\r\n\t\t\t\t\t'/static/logo.png',\r\n\t\t\t\t\t'/static/logo.png'\r\n\t\t\t\t],\r\n\t\t\t\tstartTime: this.orderItem?.time?.startTime || '',\r\n\t\t\t\tendTime: this.orderItem?.time?.endTime || '',\r\n\t\t\t\ttimer: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetWeeks() {\r\n\t\t\t\tconst start = new Date(this.startTime)\r\n\t\t\t\tconst end = new Date(this.endTime)\r\n\t\t\t\tconst diffTime = Math.abs(end - start)\r\n\t\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n\t\t\t\tconst weeks = Math.ceil(diffDays / 7)\r\n\t\t\t\treturn weeks\r\n\t\t\t},\r\n\t\t\tgetButtonTxt() {\r\n\t\t\t\tif (!this.orderItem?.time?.weeks?.isRunning) {\r\n\t\t\t\t\treturn '去评价'\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.orderItem?.isPay && this.orderItem?.time?.weeks?.isRunning) {\r\n\t\t\t\t\treturn '去支付'\r\n\t\t\t\t}\r\n\t\t\t\treturn '已支付'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleJump(id) {\r\n\t\t\t\tif (this.getButtonTxt === '去评价') {\r\n\t\t\t\t\tconsole.log('去评价');\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getButtonTxt === '去支付') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"跳转中...\",\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 500\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\t\t// 模糊查询 课程ID 或者orderID\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: `/pages/pay/pay?orderId=${id}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearTimeout(this.timer)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"orderListItem.css\");\r\n</style>","import Component from 'D:/code/project/Sports-Group-buying/components/orderListItem/orderListItem.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AA+CC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS,MAAM;AACd,eAAO,CAAC;AAAA,MACT;AAAA,IACD;AAAA,EACA;AAAA,EACD,OAAO;;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,YAAY;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,MACA;AAAA,MACD,aAAW,gBAAK,cAAL,mBAAgB,SAAhB,mBAAsB,cAAa;AAAA,MAC9C,WAAS,gBAAK,cAAL,mBAAgB,SAAhB,mBAAsB,YAAW;AAAA,MAC1C,OAAO;AAAA;EAER;AAAA,EACD,UAAU;AAAA,IACT,WAAW;AACV,YAAM,QAAQ,IAAI,KAAK,KAAK,SAAS;AACrC,YAAM,MAAM,IAAI,KAAK,KAAK,OAAO;AACjC,YAAM,WAAW,KAAK,IAAI,MAAM,KAAK;AACrC,YAAM,WAAW,KAAK,KAAK,YAAY,MAAO,KAAK,KAAK,GAAG;AAC3D,YAAM,QAAQ,KAAK,KAAK,WAAW,CAAC;AACpC,aAAO;AAAA,IACP;AAAA,IACD,eAAe;;AACd,UAAI,GAAC,sBAAK,cAAL,mBAAgB,SAAhB,mBAAsB,UAAtB,mBAA6B,YAAW;AAC5C,eAAO;AAAA,MACR;AACA,UAAI,GAAC,UAAK,cAAL,mBAAgB,YAAS,sBAAK,cAAL,mBAAgB,SAAhB,mBAAsB,UAAtB,mBAA6B,YAAW;AACrE,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,WAAW,IAAI;AACd,UAAI,KAAK,iBAAiB,OAAO;AAChCA,sBAAAA,MAAY,MAAA,OAAA,oDAAA,KAAK;AAAA,MAClB;AACA,UAAI,KAAK,iBAAiB,OAAO;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,UACN,MAAM;AAAA,UACN,UAAU;AAAA,SACV;AACD,aAAK,QAAQ,WAAW,MAAM;AAE7BA,wBAAAA,MAAI,WAAW;AAAA,YACd,KAAK,0BAA0B,EAAE;AAAA,WACjC;AAAA,QACD,GAAE,GAAG;AAAA,MACP;AAAA,IACD;AAAA,EACA;AAAA,EACD,WAAW;AACV,iBAAa,KAAK,KAAK;AAAA,EACxB;AACD;;;;;;;;;;;;;;;;;;;;;AChHD,GAAG,gBAAgB,SAAS;"}