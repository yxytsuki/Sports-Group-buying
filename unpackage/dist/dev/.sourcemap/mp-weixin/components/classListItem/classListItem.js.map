{"version":3,"file":"classListItem.js","sources":["components/classListItem/classListItem.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovY29kZS9wcm9qZWN0L1Nwb3J0cy1Hcm91cC1idXlpbmcvY29tcG9uZW50cy9jbGFzc0xpc3RJdGVtL2NsYXNzTGlzdEl0ZW0udnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"myClass-item\">\r\n\t\t\t<view class=\"myClass-title\">\r\n\t\t\t\t<view class=\"myClass-title-class\">班级</view>\r\n\t\t\t\t<span class=\"myClass-title-txt\">{{classListItem?.title}}</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"myClass-content\">\r\n\t\t\t\t<view class=\"myClass-content-msg\">\r\n\t\t\t\t\t<view class=\"myClass-msg-time\">\r\n\t\t\t\t\t\t{{`总周期${getWeeks}周 当前第${getWeekNumber(startTime,endTime,now)}周`}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"myClass-msg-detail\">查看详情</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"myClass-content-avatar\">\r\n\t\t\t\t\t<view class=\"myClass-avator-list\" v-if=\"students.length<=3\">\r\n\t\t\t\t\t\t<view class=\"myClass-avator-item\" v-for=\"(item,index) in students\" :key=\"index\"\r\n\t\t\t\t\t\t\t:style=\"{left:`${25+index * overlap}px`}\">\r\n\t\t\t\t\t\t\t<image :src=\"item?.avatar\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view class=\"myClass-avator-ul\">\r\n\t\t\t\t\t<span class=\"myClass-avatarTxt\">{{`剩余个名额${subNumber}`}}</span>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"myClass-content-detail\">\r\n\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" class=\"myClass-detail-icon\"></uni-icons>\r\n\t\t\t\t\t<span class=\"myClass-detail-txt\">{{classListItem?.class_number}}</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"myClass-content-detail\">\r\n\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" class=\"myClass-detail-icon\"></uni-icons>\r\n\t\t\t\t\t<span class=\"myClass-detail-txt\">{{classListItem?.address}}</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"myClass-content-detail\">\r\n\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" class=\"myClass-detail-icon\"></uni-icons>\r\n\t\t\t\t\t<span class=\"myClass-detail-txt\">{{formatTimestamp(startTime)}}~{{formatTimestamp(endTime)}}</span>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"classListItem\",\r\n\t\tprops: {\r\n\t\t\tclassListItem: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\toverlap: 20,\r\n\t\t\t\tstudents: this.classListItem?.students,\r\n\t\t\t\tstartTime: this.classListItem?.start_time,\r\n\t\t\t\tendTime: this.classListItem?.end_time,\r\n\t\t\t\tnow: Date.now()\r\n\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 将毫秒时间戳转化为日期格式\r\n\t\t\tformatTimestamp(timestamp) {\r\n\t\t\t\tconst date = new Date(timestamp);\r\n\t\t\t\tconst Y = date.getFullYear();\r\n\t\t\t\tconst M = String(date.getMonth() + 1).padStart(2, '0');\r\n\t\t\t\tconst D = String(date.getDate()).padStart(2, '0');\r\n\t\t\t\tconst h = String(date.getHours()).padStart(2, '0');\r\n\t\t\t\tconst m = String(date.getMinutes()).padStart(2, '0');\r\n\t\t\t\tconst s = String(date.getSeconds()).padStart(2, '0');\r\n\r\n\t\t\t\treturn `${Y}-${M}-${D}`;\r\n\t\t\t},\r\n\t\t\tgetWeekNumber(startTime, endTime, now) {\r\n\t\t\t\tconst weekMillis = 7 * 24 * 60 * 60 * 1000;\r\n\t\t\t\tif (now < startTime || now > endTime) {\r\n\t\t\t\t\treturn this.getWeeks;\r\n\t\t\t\t}\r\n\t\t\t\tconst diff = now - startTime;\r\n\t\t\t\tconst weekIndex = Math.floor(diff / weekMillis) + 1;\r\n\r\n\t\t\t\treturn weekIndex;\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsubNumber() {\r\n\t\t\t\treturn this.classListItem?.total_number - this.students.length\r\n\t\t\t},\r\n\t\t\tgetWeeks() {\r\n\t\t\t\tconst diffTime = Math.abs(this.endTime - this.startTime)\r\n\t\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n\t\t\t\tconst weeks = Math.ceil(diffDays / 7)\r\n\t\t\t\treturn weeks\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tconsole.log('学生', this.classListItem)\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(./classListItem.css);\r\n</style>","import Component from 'D:/code/project/Sports-Group-buying/components/classListItem/classListItem.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AA0CC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,eAAe;AAAA,MACd,MAAM;AAAA,MACN,SAAS,MAAM;AACd,eAAO,CAAC;AAAA,MACT;AAAA,IACD;AAAA,EACA;AAAA,EAED,OAAO;;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,WAAU,UAAK,kBAAL,mBAAoB;AAAA,MAC9B,YAAW,UAAK,kBAAL,mBAAoB;AAAA,MAC/B,UAAS,UAAK,kBAAL,mBAAoB;AAAA,MAC7B,KAAK,KAAK,IAAI;AAAA;EAGf;AAAA,EACD,SAAS;AAAA;AAAA,IAER,gBAAgB,WAAW;AAC1B,YAAM,OAAO,IAAI,KAAK,SAAS;AAC/B,YAAM,IAAI,KAAK;AACf,YAAM,IAAI,OAAO,KAAK,SAAQ,IAAK,CAAC,EAAE,SAAS,GAAG,GAAG;AACrD,YAAM,IAAI,OAAO,KAAK,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG;AACtC,aAAO,KAAK,SAAQ,CAAE,EAAE,SAAS,GAAG,GAAG;AACvC,aAAO,KAAK,WAAU,CAAE,EAAE,SAAS,GAAG,GAAG;AACzC,aAAO,KAAK,WAAU,CAAE,EAAE,SAAS,GAAG,GAAG;AAEnD,aAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;AAAA,IACrB;AAAA,IACD,cAAc,WAAW,SAAS,KAAK;AACtC,YAAM,aAAa,IAAI,KAAK,KAAK,KAAK;AACtC,UAAI,MAAM,aAAa,MAAM,SAAS;AACrC,eAAO,KAAK;AAAA,MACb;AACA,YAAM,OAAO,MAAM;AACnB,YAAM,YAAY,KAAK,MAAM,OAAO,UAAU,IAAI;AAElD,aAAO;AAAA,IACP;AAAA,EAED;AAAA,EACD,UAAU;AAAA,IACT,YAAY;;AACX,eAAO,UAAK,kBAAL,mBAAoB,gBAAe,KAAK,SAAS;AAAA,IACxD;AAAA,IACD,WAAW;AACV,YAAM,WAAW,KAAK,IAAI,KAAK,UAAU,KAAK,SAAS;AACvD,YAAM,WAAW,KAAK,KAAK,YAAY,MAAO,KAAK,KAAK,GAAG;AAC3D,YAAM,QAAQ,KAAK,KAAK,WAAW,CAAC;AACpC,aAAO;AAAA,IACP;AAAA,EAED;AAAA,EACD,SAAS;AACRA,kBAAY,MAAA,MAAA,OAAA,qDAAA,MAAM,KAAK,aAAa;AAAA,EACpC;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtGD,GAAG,gBAAgB,SAAS;"}