import { createUnplugin } from 'unplugin';
import { isPackageExists } from 'local-pkg';

var p=createUnplugin((e={})=>{let i=isPackageExists("miniprogram-formdata"),s=isPackageExists("miniprogram-blob");return {name:"unplugin-uni-axios-adapter",enforce:"pre",transform(l,o){var r;if((r=process.env.UNI_PLATFORM)!=null&&r.includes("mp")){if(o.includes("/form-data/lib/browser.js"))return {code:l.replace("window","globalThis")};if(o.includes("/axios/lib/platform/browser/classes/FormData.js"))return {code:`${i?"import FormData from 'miniprogram-formdata';":"class FormData {};"}
export default FormData;`};if(o.includes("/axios/lib/platform/browser/classes/Blob.js"))return {code:`${s?"import Blob from 'miniprogram-blob';":"class Blob {};"}
export default Blob;`}}}}});

export { p as a };
